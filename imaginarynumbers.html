<!DOCTYPE html>
<html> 
    <head>
        <meta charset="utf-8">
        <title>Imaginary Numbers</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/style.css">
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
        </script>
        <script type="text/javascript"
          src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        </script>
    </head>
    <body>
        <h1><a href="index.html" class="HomepageLink"><img src="meowmatical.PNG" alt="Meowmatical Logo" width="300" height="100"></a></h1>
        <h2>Imaginary Numbers</h2>
        <div class="topicPage">

        </div>
        <br>
        <div class="sources">
            <h2>Sources!</h2>
            <ul> 
                
            </ul>
        </div>
        <script>
            var index = 0;
            var imageList = ['emptyheart.jpg', 'fullheart1.png'];
            var likeCount = 0; 
  
            function changeImage() {
                index = index + 1;
                if (index == imageList.length) {
                    index = 0;
                    likeCount--; 
                }
                var image1 = document.getElementById("heart");
                image1.src = imageList[index];
                if (imageList[index] == 'fullheart1.png') {
                    likeCount++; 
                    sendLikeToServer(likeCount); 
                }
                document.querySelector('.post-rating-count').textContent = likeCount; 
            }
            
            function sendLikeToServer(likeCount) {
                fetch("https://ff0fnmu6n5.execute-api.us-east-2.amazonaws.com/items", {
                    method: 'PUT', 
                    headers: {
                        'Content-Type': 'application/json'
                    }, 
                    body: JSON.stringify({id: 'imaginary-likes', count: likeCount})
                })
                .then(response => response.json())
                .then(data => console.log("updated like count", data))
            }
        </script> 
        <div class="post-rating">
            <button type="button" class="likeButton" onclick="changeImage()"><img src='emptyheart.jpg' id="heart"></button>
            <span id="imaginary-likes" class="post-rating-count">0</span>
        </div>
    </body>
</html>